/* esm.sh - esbuild bundle(monocle-ts@2.3.13) deno production */
var vo=Object.defineProperty;var $=(r,t)=>{for(var o in t)vo(r,o,{get:t[o],enumerable:!0})};import*as ut from"/v102/fp-ts@2.13.1/deno/es6/Array.js";import{getApplicative as ke,make as je}from"/v102/fp-ts@2.13.1/deno/es6/Const.js";import{constant as qe,identity as ze}from"/v102/fp-ts@2.13.1/deno/es6/function.js";import{monoidAll as Be,monoidAny as De}from"/v102/fp-ts@2.13.1/deno/es6/Monoid.js";import{fromNullable as so,fromPredicate as He,getFirstMonoid as Je,isNone as pt,option as Qe,some as Ve}from"/v102/fp-ts@2.13.1/deno/es6/Option.js";import{pipe as u}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";var Mt={};$(Mt,{at:()=>Qr,atReadonlyMap:()=>Oo,atReadonlyRecord:()=>ho,atReadonlySet:()=>go,atRecord:()=>Ao,fromIso:()=>ft});import*as Et from"/v102/fp-ts@2.13.1/deno/es6/Option.js";import{pipe as _o}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";import*as hr from"/v102/fp-ts@2.13.1/deno/es6/ReadonlyMap.js";import*as Or from"/v102/fp-ts@2.13.1/deno/es6/ReadonlySet.js";var I={};$(I,{ApplicativeIdentity:()=>ct,at:()=>Jr,atReadonlyRecord:()=>b,fromTraversable:()=>Hr,index:()=>yr,indexReadonlyArray:()=>ur,indexReadonlyNonEmptyArray:()=>_r,indexReadonlyRecord:()=>sr,iso:()=>at,isoAsLens:()=>ir,isoAsOptional:()=>pr,isoAsPrism:()=>Cr,isoAsTraversal:()=>Nr,lens:()=>h,lensAsOptional:()=>P,lensAsTraversal:()=>q,lensAtKey:()=>Gr,lensComponent:()=>S,lensComposeLens:()=>tr,lensComposePrism:()=>Lr,lensId:()=>m,lensProp:()=>C,lensProps:()=>N,optional:()=>y,optionalAsTraversal:()=>or,optionalComposeOptional:()=>c,optionalFindFirst:()=>E,optionalFindFirstNonEmpty:()=>M,optionalIndex:()=>B,optionalIndexNonEmpty:()=>D,optionalKey:()=>H,optionalModify:()=>Dr,optionalModifyOption:()=>Br,prism:()=>K,prismAsOptional:()=>R,prismAsTraversal:()=>z,prismComposeLens:()=>zr,prismComposePrism:()=>Sr,prismFromNullable:()=>L,prismFromPredicate:()=>F,prismLeft:()=>w,prismModify:()=>qr,prismModifyOption:()=>jr,prismRight:()=>G,prismSet:()=>wr,prismSome:()=>O,traversal:()=>J,traversalComposeTraversal:()=>l,traversalTraverse:()=>U});import*as x from"/v102/fp-ts@2.13.1/deno/es6/ReadonlyArray.js";import*as j from"/v102/fp-ts@2.13.1/deno/es6/ReadonlyRecord.js";import{constant as st,flow as rr,identity as Pr}from"/v102/fp-ts@2.13.1/deno/es6/function.js";import*as p from"/v102/fp-ts@2.13.1/deno/es6/Option.js";import*as dr from"/v102/fp-ts@2.13.1/deno/es6/Either.js";import{pipe as d}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";var xo=function(r,t,o){if(o||arguments.length===2)for(var n=0,e=t.length,i;n<e;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return r.concat(i||Array.prototype.slice.call(t))},at=function(r,t){return{get:r,reverseGet:t}},ir=function(r){return h(r.get,rr(r.reverseGet,st))},Cr=function(r){return K(rr(r.get,p.some),r.reverseGet)},pr=function(r){return y(rr(r.get,p.some),rr(r.reverseGet,st))},Nr=function(r){return J(function(t){return function(o){return function(n){return t.map(o(r.get(n)),function(e){return r.reverseGet(e)})}}})},h=function(r,t){return{get:r,set:t}},P=function(r){return y(rr(r.get,p.some),r.set)},q=function(r){return J(function(t){return function(o){return function(n){return t.map(o(r.get(n)),function(e){return r.set(e)(n)})}}})},tr=function(r){return function(t){return h(function(o){return r.get(t.get(o))},function(o){return function(n){return t.set(r.set(o)(t.get(n)))(n)}})}},Sr=function(r){return function(t){return K(rr(t.getOption,p.chain(r.getOption)),rr(r.reverseGet,t.reverseGet))}},Lr=function(r){return function(t){return c(R(r))(P(t))}},m=function(){return h(Pr,st)},C=function(r){return function(t){return h(function(o){return t.get(o)[r]},function(o){return function(n){var e,i=t.get(n);return o===i[r]?n:t.set(Object.assign({},i,(e={},e[r]=o,e)))(n)}})}},N=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(o){return h(function(n){for(var e=o.get(n),i={},v=0,T=r;v<T.length;v++){var Z=T[v];i[Z]=e[Z]}return i},function(n){return function(e){for(var i=o.get(e),v=0,T=r;v<T.length;v++){var Z=T[v];if(n[Z]!==i[Z])return o.set(Object.assign({},i,n))(e)}return e}})}},S=function(r){return function(t){return h(function(o){return t.get(o)[r]},function(o){return function(n){var e=t.get(n);if(o===e[r])return n;var i=e.slice();return i[r]=o,t.set(i)(n)}})}},Gr=function(r){return function(t){return d(t,tr(b().at(r)))}},K=function(r,t){return{getOption:r,reverseGet:t}},R=function(r){return y(r.getOption,function(t){return wr(t)(r)})},z=function(r){return J(function(t){return function(o){return function(n){return d(r.getOption(n),p.fold(function(){return t.of(n)},function(e){return t.map(o(e),function(i){return wr(i)(r)(n)})}))}}})},jr=function(r){return function(t){return function(o){return d(t.getOption(o),p.map(function(n){var e=r(n);return e===n?o:t.reverseGet(e)}))}}},qr=function(r){return function(t){var o=jr(r)(t);return function(n){return d(o(n),p.getOrElse(function(){return n}))}}},wr=function(r){return qr(function(){return r})},zr=function(r){return function(t){return c(P(r))(R(t))}},L=function(){return K(p.fromNullable,Pr)},F=function(r){return K(p.fromPredicate(r),Pr)},O=function(){return K(Pr,p.some)},G=function(){return K(p.fromEither,dr.right)},w=function(){return K(function(r){return dr.isLeft(r)?p.some(r.left):p.none},dr.left)},y=function(r,t){return{getOption:r,set:t}},or=function(r){return J(function(t){return function(o){return function(n){return d(r.getOption(n),p.fold(function(){return t.of(n)},function(e){return t.map(o(e),function(i){return r.set(i)(n)})}))}}})},Br=function(r){return function(t){return function(o){return d(t.getOption(o),p.map(function(n){var e=r(n);return e===n?o:t.set(e)(o)}))}}},Dr=function(r){return function(t){var o=Br(r)(t);return function(n){return d(o(n),p.getOrElse(function(){return n}))}}},c=function(r){return function(t){return y(rr(t.getOption,p.chain(r.getOption)),function(o){return Dr(r.set(o))(t)})}},B=function(r){return function(t){return d(t,c(ur().index(r)))}},D=function(r){return function(t){return d(t,c(_r().index(r)))}},H=function(r){return function(t){return d(t,c(sr().index(r)))}},E=function(r){return y(x.findFirst(r),function(t){return function(o){return d(x.findIndex(r)(o),p.fold(function(){return o},function(n){return x.unsafeUpdateAt(n,t,o)}))}})},wt=function(r,t,o){if(o[r]===t)return o;var n=xo([o[0]],o.slice(1),!0);return n[r]=t,n},M=function(r){return y(x.findFirst(r),function(t){return function(o){return d(x.findIndex(r)(o),p.fold(function(){return o},function(n){return wt(n,t,o)}))}})},J=function(r){return{modifyF:r}};function l(r){return function(t){return J(function(o){return function(n){return t.modifyF(o)(r.modifyF(o)(n))}})}}var ct={URI:"Identity",map:function(r,t){return t(r)},of:Pr,ap:function(r,t){return r(t)}},yo=function(r){return r.URI==="Identity"};function Hr(r){return function(){return J(function(t){var o=yo(t)?r.map:r.traverse(t);return function(n){return function(e){return o(e,n)}}})}}function U(r){return l(Hr(r)())}var yr=function(r){return{index:r}},ur=function(){return yr(function(r){return y(function(t){return x.lookup(r,t)},function(t){return function(o){return d(x.lookup(r,o),p.fold(function(){return o},function(){return x.unsafeUpdateAt(r,t,o)}))}})})},_r=function(){return yr(function(r){return y(function(t){return x.lookup(r,t)},function(t){return function(o){return d(x.lookup(r,o),p.fold(function(){return o},function(){return wt(r,t,o)}))}})})},sr=function(){return yr(function(r){return y(function(t){return j.lookup(r,t)},function(t){return function(o){return o[r]===t||p.isNone(j.lookup(r,o))?o:j.insertAt(r,t)(o)}})})},Jr=function(r){return{at:r}};function b(){return Jr(function(r){return h(function(t){return j.lookup(r,t)},p.fold(function(){return j.deleteAt(r)},function(t){return j.insertAt(r,t)}))})}var Qr=Jr,ft=function(r){return function(t){return Qr(function(o){return _o(r,ir,tr(t.at(o)))})}},ho=b,Oo=function(r){var t=hr.lookup(r),o=hr.deleteAt(r),n=hr.insertAt(r);return function(){return Qr(function(e){return h(function(i){return t(e,i)},Et.fold(function(){return o(e)},function(i){return n(e,i)}))})}},go=function(r){var t=Or.elem(r),o=Or.insert(r),n=Or.remove(r);return Qr(function(e){var i=o(e),v=n(e);return h(function(T){return t(e,T)},function(T){return function(Z){return T?i(Z):v(Z)}})})},Ao=b;var jt={};$(jt,{Category:()=>Ho,Invariant:()=>Do,Semigroupoid:()=>kt,URI:()=>Vr,asLens:()=>k,asOptional:()=>Q,asPrism:()=>gr,asTraversal:()=>ar,atKey:()=>Uo,component:()=>Go,compose:()=>Mr,composeIso:()=>Fo,composeLens:()=>Io,composeOptional:()=>mt,composePrism:()=>Ar,composeTraversal:()=>To,filter:()=>No,findFirst:()=>qo,findFirstNonEmpty:()=>zo,fromNullable:()=>Co,id:()=>bt,imap:()=>Bo,index:()=>wo,indexNonEmpty:()=>Eo,iso:()=>Er,key:()=>Mo,left:()=>ko,modify:()=>vt,modifyF:()=>Po,prop:()=>So,props:()=>Lo,reverse:()=>lt,right:()=>Ko,some:()=>bo,traverse:()=>jo});import{flow as f,identity as Ut}from"/v102/fp-ts@2.13.1/deno/es6/function.js";import{pipe as Ro}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";var Er=at,bt=function(){return Er(Ut,Ut)},k=ir,gr=Cr,Q=pr,ar=Nr,Mr=function(r){return function(t){return Er(f(t.get,r.get),f(r.reverseGet,t.reverseGet))}},Fo=Mr,Io=function(r){return f(k,tr(r))},Ar=function(r){return f(gr,Sr(r))},mt=function(r){return f(Q,c(r))},To=function(r){return f(ar,l(r))},lt=function(r){return Er(r.reverseGet,r.get)},vt=function(r){return function(t){return function(o){return t.reverseGet(r(t.get(o)))}}};function Po(r){return function(t){return function(o){return function(n){return Ro(o.get(n),t,function(e){return r.map(e,o.reverseGet)})}}}}var Co=function(r){return Ar(L())(r)};function No(r){return Ar(F(r))}var So=function(r){return f(k,C(r))},Lo=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return f(k,N.apply(I,r))},Go=function(r){return f(k,S(r))},wo=function(r){return f(Q,B(r))},Eo=function(r){return f(Q,D(r))},Mo=function(r){return f(Q,H(r))},Uo=function(r){return f(k,Gr(r))},bo=Ar(O()),Ko=Ar(G()),ko=Ar(w());function jo(r){return f(ar,U(r))}function qo(r){return mt(E(r))}function zo(r){return mt(M(r))}var Bo=function(r,t){return function(o){return Kt(o,r,t)}},Kt=function(r,t,o){return Er(f(r.get,t),f(o,r.reverseGet))},Vr="monocle-ts/Iso",Do={URI:Vr,imap:Kt},kt={URI:Vr,compose:function(r,t){return Mr(r)(t)}},Ho={URI:Vr,compose:kt.compose,id:bt};var Bt={};$(Bt,{fromAt:()=>xt,fromIso:()=>dt,index:()=>Xr,indexArray:()=>Xo,indexReadonlyArray:()=>Jo,indexReadonlyMap:()=>Wo,indexReadonlyNonEmptyArray:()=>Qo,indexReadonlyRecord:()=>Vo,indexRecord:()=>Yo});import*as qt from"/v102/fp-ts@2.13.1/deno/es6/Option.js";import{pipe as zt}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";import*as Wr from"/v102/fp-ts@2.13.1/deno/es6/ReadonlyMap.js";var Xr=yr,xt=function(r){return Xr(function(t){return Lr(O())(r.at(t))})},dt=function(r){return function(t){return Xr(function(o){return zt(r,pr,c(t.index(o)))})}},Jo=ur,Qo=_r,Vo=sr,Wo=function(r){var t=Wr.lookup(r),o=Wr.insertAt(r);return function(){return Xr(function(n){return y(function(e){return t(n,e)},function(e){var i=o(n,e);return function(v){return zt(t(n,v),qt.fold(function(){return v},function(T){return e===T?v:i(v)}))}})})}},Xo=ur,Yo=sr;var gt={};$(gt,{Category:()=>hn,Invariant:()=>_n,Semigroupoid:()=>Jt,URI:()=>Yr,asOptional:()=>W,asTraversal:()=>cr,atKey:()=>cn,component:()=>pn,compose:()=>nr,composeIso:()=>rn,composeLens:()=>$o,composeOptional:()=>yt,composePrism:()=>er,composeTraversal:()=>tn,filter:()=>en,findFirst:()=>xn,findFirstNonEmpty:()=>dn,fromNullable:()=>nn,id:()=>Ur,imap:()=>yn,index:()=>un,indexNonEmpty:()=>sn,key:()=>an,left:()=>ln,lens:()=>Dt,modify:()=>_t,modifyF:()=>on,prop:()=>ht,props:()=>Ot,right:()=>mn,some:()=>fn,traverse:()=>vn});import{flow as V}from"/v102/fp-ts@2.13.1/deno/es6/function.js";import{pipe as Zo}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";var Dt=h,Ur=m,W=P,cr=q,nr=tr,$o=nr,rn=V(ir,nr),er=Lr,yt=function(r){return V(W,c(r))},tn=function(r){return V(cr,l(r))},_t=function(r){return function(t){return function(o){var n=t.get(o),e=r(n);return n===e?o:t.set(e)(o)}}};function on(r){return function(t){return function(o){return function(n){return Zo(o.get(n),t,function(e){return r.map(e,function(i){return o.set(i)(n)})})}}}}var nn=function(r){return er(L())(r)};function en(r){return er(F(r))}var ht=C,Ot=N,pn=S,un=function(r){return V(W,B(r))},sn=function(r){return V(W,D(r))},an=function(r){return V(W,H(r))},cn=Gr,fn=er(O()),mn=er(G()),ln=er(w());function vn(r){return V(cr,U(r))}function xn(r){return yt(E(r))}function dn(r){return yt(M(r))}var yn=function(r,t){return function(o){return Ht(o,r,t)}},Ht=function(r,t,o){return Dt(V(r.get,t),V(o,r.set))},Yr="monocle-ts/Lens",_n={URI:Yr,imap:Ht},Jt={URI:Yr,compose:function(r,t){return nr(r)(t)}},hn={URI:Yr,compose:Jt.compose,id:Ur};var Xt={};$(Xt,{Category:()=>Hn,Invariant:()=>Dn,Semigroupoid:()=>Wt,URI:()=>$r,asTraversal:()=>Fr,atKey:()=>Un,component:()=>Gn,compose:()=>a,composeIso:()=>An,composeLens:()=>Rn,composeOptional:()=>gn,composePrism:()=>Fn,composeTraversal:()=>In,filter:()=>Nn,findFirst:()=>qn,findFirstNonEmpty:()=>zn,fromNullable:()=>Cn,id:()=>Qt,imap:()=>Bn,index:()=>wn,indexNonEmpty:()=>En,key:()=>Mn,left:()=>kn,modify:()=>Rt,modifyF:()=>Pn,modifyOption:()=>Zr,optional:()=>At,prop:()=>Sn,props:()=>Ln,right:()=>Kn,setOption:()=>Tn,some:()=>bn,traverse:()=>jn});import{constant as On,flow as fr}from"/v102/fp-ts@2.13.1/deno/es6/function.js";import*as Rr from"/v102/fp-ts@2.13.1/deno/es6/Option.js";import{pipe as br}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";var At=y,Qt=function(){return At(Rr.some,On)},Fr=or,a=c,gn=a,An=fr(pr,a),Rn=fr(P,c),Fn=fr(R,c),In=function(r){return fr(Fr,l(r))},Zr=Br,Tn=function(r){return Zr(function(){return r})},Rt=Dr;function Pn(r){return function(t){return function(o){return function(n){return br(o.getOption(n),Rr.fold(function(){return r.of(n)},function(e){return r.map(t(e),function(i){return o.set(i)(n)})}))}}}}var Cn=a(R(L()));function Nn(r){return a(R(F(r)))}var Sn=function(r){return a(br(m(),C(r),P))},Ln=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return a(br(m(),N.apply(I,r),P))},Gn=function(r){return a(br(m(),S(r),P))},wn=B,En=D,Mn=H,Un=function(r){return function(t){return br(t,a(P(b().at(r))))}},bn=a(R(O())),Kn=a(R(G())),kn=a(R(w()));function jn(r){return fr(Fr,U(r))}function qn(r){return a(E(r))}function zn(r){return a(M(r))}var Bn=function(r,t){return function(o){return Vt(o,r,t)}},Vt=function(r,t,o){return At(fr(r.getOption,Rr.map(t)),fr(o,r.set))},$r="monocle-ts/Optional",Dn={URI:$r,imap:Vt},Wt={URI:$r,compose:function(r,t){return a(r)(t)}},Hn={URI:$r,compose:Wt.compose,id:Qt};var ro={};$(ro,{Category:()=>ye,Invariant:()=>de,Semigroupoid:()=>$t,URI:()=>tt,asOptional:()=>Y,asTraversal:()=>mr,atKey:()=>se,component:()=>ee,compose:()=>g,composeIso:()=>Vn,composeLens:()=>Tr,composeOptional:()=>Tt,composePrism:()=>Qn,composeTraversal:()=>Wn,filter:()=>te,findFirst:()=>le,findFirstNonEmpty:()=>ve,fromNullable:()=>re,fromPredicate:()=>It,id:()=>Yt,imap:()=>xe,index:()=>ie,indexNonEmpty:()=>pe,key:()=>ue,left:()=>fe,modify:()=>Zn,modifyF:()=>$n,modifyOption:()=>Yn,prism:()=>Ft,prop:()=>oe,props:()=>ne,right:()=>ce,set:()=>Xn,some:()=>ae,traverse:()=>me});import{flow as X,identity as Jn}from"/v102/fp-ts@2.13.1/deno/es6/function.js";import*as Ir from"/v102/fp-ts@2.13.1/deno/es6/Option.js";import{pipe as rt}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";var Ft=K,Yt=function(){return Ft(Ir.some,Jn)},It=F,Y=R,mr=z,g=Sr,Qn=g,Vn=X(Cr,g),Tr=zr,Tt=function(r){return X(Y,c(r))},Wn=function(r){return X(mr,l(r))},Xn=wr,Yn=jr,Zn=qr;function $n(r){return function(t){return function(o){return function(n){return rt(o.getOption(n),Ir.fold(function(){return r.of(n)},function(e){return r.map(t(e),o.reverseGet)}))}}}}var re=g(L());function te(r){return g(F(r))}var oe=function(r){return Tr(rt(m(),C(r)))},ne=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Tr(rt(m(),N.apply(I,r)))},ee=function(r){return Tr(rt(m(),S(r)))},ie=function(r){return X(Y,B(r))},pe=function(r){return X(Y,D(r))},ue=function(r){return X(Y,H(r))},se=function(r){return function(t){return zr(b().at(r))(t)}},ae=g(O()),ce=g(G()),fe=g(w());function me(r){return X(mr,U(r))}function le(r){return Tt(E(r))}function ve(r){return Tt(M(r))}var xe=function(r,t){return function(o){return Zt(o,r,t)}},Zt=function(r,t,o){return Ft(X(r.getOption,Ir.map(t)),X(o,r.reverseGet))},tt="monocle-ts/Prism",de={URI:tt,imap:Zt},$t={URI:tt,compose:function(r,t){return g(r)(t)}},ye={URI:tt,compose:$t.compose,id:Yt};var io={};$(io,{Category:()=>Ke,Semigroupoid:()=>eo,URI:()=>Gt,atKey:()=>Ne,component:()=>Ie,compose:()=>s,composeIso:()=>Oe,composeLens:()=>ge,composeOptional:()=>Ct,composePrism:()=>no,composeTraversal:()=>he,filter:()=>St,findFirst:()=>Ee,findFirstNonEmpty:()=>Me,fold:()=>Ue,foldMap:()=>Lt,fromNullable:()=>Ae,fromTraversable:()=>Pt,getAll:()=>be,id:()=>oo,index:()=>Te,indexNonEmpty:()=>Pe,key:()=>Ce,left:()=>Ge,modify:()=>it,prop:()=>Re,props:()=>Fe,right:()=>Le,set:()=>Nt,some:()=>Se,traversal:()=>to,traverse:()=>we});import*as ot from"/v102/fp-ts@2.13.1/deno/es6/Const.js";import{flow as nt,identity as _e}from"/v102/fp-ts@2.13.1/deno/es6/function.js";import{pipe as lr}from"/v102/fp-ts@2.13.1/deno/es6/pipeable.js";import*as et from"/v102/fp-ts@2.13.1/deno/es6/ReadonlyArray.js";var to=J,oo=function(){return to(function(r){return function(t){return t}})},Pt=Hr,s=l,he=s,Oe=nt(Nr,s),ge=nt(q,l),no=nt(z,l),Ct=nt(or,l),it=function(r){return function(t){return t.modifyF(ct)(r)}},Nt=function(r){return it(function(){return r})},Ae=function(r){return no(L())(r)};function St(r){return s(z(F(r)))}var Re=function(r){return s(lr(m(),C(r),q))},Fe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return s(lr(m(),N.apply(I,r),q))},Ie=function(r){return s(lr(m(),S(r),q))},Te=function(r){return function(t){return lr(t,s(or(ur().index(r))))}},Pe=function(r){return function(t){return lr(t,s(or(_r().index(r))))}},Ce=function(r){return function(t){return lr(t,s(or(sr().index(r))))}},Ne=function(r){return function(t){return lr(t,s(q(b().at(r))))}},Se=s(z(O())),Le=s(z(G())),Ge=s(z(w())),we=U;function Ee(r){return Ct(E(r))}function Me(r){return Ct(M(r))}var Lt=function(r){return function(t){return function(o){return o.modifyF(ot.getApplicative(r))(function(n){return ot.make(t(n))})}}},Ue=function(r){return Lt(r)(_e)},be=function(r){return function(t){return Lt(et.getMonoid())(et.of)(t)(r)}},Gt="monocle-ts/Traversal",eo={URI:Gt,compose:function(r,t){return s(r)(t)}},Ke={URI:Gt,compose:eo.compose,id:oo};var po=function(r){return new Xe(r.get,r.reverseGet)},vr=function(r){return new co(r.get,r.set)},Kr=function(r){return new fo(r.getOption,r.reverseGet)},A=function(r){return new Ye(r.getOption,r.set)},_=function(r){return new Ze(r.modifyF)},We=function(r){return new $e(function(t){return vr(r.at(t))})},uo=function(r){return new ri(function(t){return A(r.index(t))})},ao=function(r,t,o){var n;return o===r[t]?r:Object.assign({},r,(n={},n[t]=o,n))},Xe=function(){function r(t,o){this.get=t,this.reverseGet=o,this._tag="Iso",this.unwrap=this.get,this.to=this.get,this.wrap=this.reverseGet,this.from=this.reverseGet}return r.prototype.reverse=function(){return po(lt(this))},r.prototype.modify=function(t){return vt(t)(this)},r.prototype.asLens=function(){return vr(k(this))},r.prototype.asPrism=function(){return Kr(gr(this))},r.prototype.asOptional=function(){return A(Q(this))},r.prototype.asTraversal=function(){return _(ar(this))},r.prototype.asFold=function(){var t=this;return new xr(function(){return function(o){return function(n){return o(t.get(n))}}})},r.prototype.asGetter=function(){var t=this;return new lo(function(o){return t.get(o)})},r.prototype.asSetter=function(){var t=this;return new kr(function(o){return t.modify(o)})},r.prototype.compose=function(t){return po(Mr(t)(this))},r.prototype.composeIso=function(t){return this.compose(t)},r.prototype.composeLens=function(t){return vr(u(this,k,nr(t)))},r.prototype.composePrism=function(t){return Kr(u(this,gr,g(t)))},r.prototype.composeOptional=function(t){return A(u(this,Q,a(t)))},r.prototype.composeTraversal=function(t){return _(u(this,ar,s(t)))},r.prototype.composeFold=function(t){return this.asFold().compose(t)},r.prototype.composeGetter=function(t){return this.asGetter().compose(t)},r.prototype.composeSetter=function(t){return this.asSetter().compose(t)},r}();var co=function(){function r(t,o){this.get=t,this.set=o,this._tag="Lens"}return r.fromPath=function(){var t=r.fromProp();return function(o){var n=t(o[0]);return o.slice(1).reduce(function(e,i){return e.compose(t(i))},n)}},r.fromProp=function(){return function(t){return vr(u(Ur(),ht(t)))}},r.fromProps=function(){return function(t){return vr(u(Ur(),Ot.apply(gt,t)))}},r.fromNullableProp=function(){return function(t,o){return new r(function(n){var e=so(n[t]);return pt(e)?o:e.value},function(n){return function(e){return ao(e,t,n)}})}},r.prototype.modify=function(t){return _t(t)(this)},r.prototype.asOptional=function(){return A(W(this))},r.prototype.asTraversal=function(){return _(cr(this))},r.prototype.asSetter=function(){var t=this;return new kr(function(o){return t.modify(o)})},r.prototype.asGetter=function(){var t=this;return new lo(function(o){return t.get(o)})},r.prototype.asFold=function(){var t=this;return new xr(function(){return function(o){return function(n){return o(t.get(n))}}})},r.prototype.compose=function(t){return vr(nr(t)(this))},r.prototype.composeLens=function(t){return this.compose(t)},r.prototype.composeGetter=function(t){return this.asGetter().compose(t)},r.prototype.composeFold=function(t){return this.asFold().compose(t)},r.prototype.composeOptional=function(t){return A(u(this,W,a(t)))},r.prototype.composeTraversal=function(t){return _(u(this,cr,s(t)))},r.prototype.composeSetter=function(t){return this.asSetter().compose(t)},r.prototype.composeIso=function(t){return vr(u(this,nr(u(t,k))))},r.prototype.composePrism=function(t){return A(er(t)(this))},r}();var fo=function(){function r(t,o){this.getOption=t,this.reverseGet=o,this._tag="Prism"}return r.fromPredicate=function(t){return Kr(It(t))},r.some=function(){return mo},r.prototype.modify=function(t){var o=this;return function(n){var e=o.modifyOption(t)(n);return pt(e)?n:e.value}},r.prototype.modifyOption=function(t){var o=this;return function(n){return Qe.map(o.getOption(n),function(e){var i=t(e);return i===e?n:o.reverseGet(i)})}},r.prototype.set=function(t){return this.modify(function(){return t})},r.prototype.asOptional=function(){return A(Y(this))},r.prototype.asTraversal=function(){return _(mr(this))},r.prototype.asSetter=function(){var t=this;return new kr(function(o){return t.modify(o)})},r.prototype.asFold=function(){var t=this;return new xr(function(o){return function(n){return function(e){var i=t.getOption(e);return pt(i)?o.empty:n(i.value)}}})},r.prototype.compose=function(t){return Kr(g(t)(this))},r.prototype.composePrism=function(t){return this.compose(t)},r.prototype.composeOptional=function(t){return A(u(this,Y,a(t)))},r.prototype.composeTraversal=function(t){return _(u(this,mr,s(t)))},r.prototype.composeFold=function(t){return this.asFold().compose(t)},r.prototype.composeSetter=function(t){return this.asSetter().compose(t)},r.prototype.composeIso=function(t){return Kr(u(this,g(u(t,gr))))},r.prototype.composeLens=function(t){return A(Tr(t)(this))},r.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},r}();var mo=new fo(ze,Ve),Ye=function(){function r(t,o){this.getOption=t,this.set=o,this._tag="Optional"}return r.fromPath=function(){var t=r.fromNullableProp();return function(o){var n=t(o[0]);return o.slice(1).reduce(function(e,i){return e.compose(t(i))},n)}},r.fromNullableProp=function(){return function(t){return new r(function(o){return so(o[t])},function(o){return function(n){return n[t]==null?n:ao(n,t,o)}})}},r.fromOptionProp=function(){var t=co.fromProp();return function(o){return t(o).composePrism(mo)}},r.prototype.modify=function(t){return Rt(t)(this)},r.prototype.modifyOption=function(t){return Zr(t)(this)},r.prototype.asTraversal=function(){return _(Fr(this))},r.prototype.asFold=function(){var t=this;return new xr(function(o){return function(n){return function(e){var i=t.getOption(e);return pt(i)?o.empty:n(i.value)}}})},r.prototype.asSetter=function(){var t=this;return new kr(function(o){return t.modify(o)})},r.prototype.compose=function(t){return A(a(t)(this))},r.prototype.composeOptional=function(t){return this.compose(t)},r.prototype.composeTraversal=function(t){return _(u(this,Fr,s(t)))},r.prototype.composeFold=function(t){return this.asFold().compose(t)},r.prototype.composeSetter=function(t){return this.asSetter().compose(t)},r.prototype.composeLens=function(t){return A(u(this,a(u(t,W))))},r.prototype.composePrism=function(t){return A(u(this,a(u(t,Y))))},r.prototype.composeIso=function(t){return A(u(this,a(u(t,Q))))},r.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},r}();var Ze=function(){function r(t){this.modifyF=t,this._tag="Traversal"}return r.prototype.modify=function(t){return it(t)(this)},r.prototype.set=function(t){return Nt(t)(this)},r.prototype.filter=function(t){return _(St(t)(this))},r.prototype.asFold=function(){var t=this;return new xr(function(o){return function(n){return t.modifyF(ke(o))(function(e){return je(n(e))})}})},r.prototype.asSetter=function(){var t=this;return new kr(function(o){return t.modify(o)})},r.prototype.compose=function(t){return _(s(t)(this))},r.prototype.composeTraversal=function(t){return this.compose(t)},r.prototype.composeFold=function(t){return this.asFold().compose(t)},r.prototype.composeSetter=function(t){return this.asSetter().compose(t)},r.prototype.composeOptional=function(t){return this.compose(t.asTraversal())},r.prototype.composeLens=function(t){return _(u(this,s(u(t,cr))))},r.prototype.composePrism=function(t){return _(u(this,s(u(t,mr))))},r.prototype.composeIso=function(t){return _(u(this,s(u(t,ar))))},r.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},r}();var $e=function(){function r(t){this.at=t,this._tag="At"}return r.prototype.fromIso=function(t){return We(ft(t)(this))},r}();var ri=function(){function r(t){this.index=t,this._tag="Index"}return r.fromAt=function(t){return uo(xt(t))},r.prototype.fromIso=function(t){return uo(dt(t)(this))},r}();var lo=function(){function r(t){this.get=t,this._tag="Getter"}return r.prototype.asFold=function(){var t=this;return new xr(function(){return function(o){return function(n){return o(t.get(n))}}})},r.prototype.compose=function(t){var o=this;return new r(function(n){return t.get(o.get(n))})},r.prototype.composeGetter=function(t){return this.compose(t)},r.prototype.composeFold=function(t){return this.asFold().compose(t)},r.prototype.composeLens=function(t){return this.compose(t.asGetter())},r.prototype.composeIso=function(t){return this.compose(t.asGetter())},r.prototype.composeTraversal=function(t){return this.asFold().compose(t.asFold())},r.prototype.composeOptional=function(t){return this.asFold().compose(t.asFold())},r.prototype.composePrism=function(t){return this.asFold().compose(t.asFold())},r}();var xr=function(){function r(t){this.foldMap=t,this._tag="Fold",this.getAll=t(ut.getMonoid())(ut.of),this.exist=t(De),this.all=t(Be),this.foldMapFirst=t(Je())}return r.prototype.compose=function(t){var o=this;return new r(function(n){return function(e){return o.foldMap(n)(t.foldMap(n)(e))}})},r.prototype.composeFold=function(t){return this.compose(t)},r.prototype.composeGetter=function(t){return this.compose(t.asFold())},r.prototype.composeTraversal=function(t){return this.compose(t.asFold())},r.prototype.composeOptional=function(t){return this.compose(t.asFold())},r.prototype.composeLens=function(t){return this.compose(t.asFold())},r.prototype.composePrism=function(t){return this.compose(t.asFold())},r.prototype.composeIso=function(t){return this.compose(t.asFold())},r.prototype.find=function(t){return this.foldMapFirst(He(t))},r.prototype.headOption=function(t){return this.find(function(){return!0})(t)},r}();var kr=function(){function r(t){this.modify=t,this._tag="Setter"}return r.prototype.set=function(t){return this.modify(qe(t))},r.prototype.compose=function(t){var o=this;return new r(function(n){return o.modify(t.modify(n))})},r.prototype.composeSetter=function(t){return this.compose(t)},r.prototype.composeTraversal=function(t){return this.compose(t.asSetter())},r.prototype.composeOptional=function(t){return this.compose(t.asSetter())},r.prototype.composeLens=function(t){return this.compose(t.asSetter())},r.prototype.composePrism=function(t){return this.compose(t.asSetter())},r.prototype.composeIso=function(t){return this.compose(t.asSetter())},r}();function gi(r){var t=Pt(r);return function(){return _(t())}}function Ai(r){return function(){return new xr(function(t){var o=r.foldMap(t);return function(n){return function(e){return o(e,n)}}})}}export{$e as At,xr as Fold,lo as Getter,ri as Index,Xe as Iso,co as Lens,Ye as Optional,fo as Prism,kr as Setter,Ze as Traversal,Mt as at,Ai as fromFoldable,gi as fromTraversable,Bt as index,jt as iso,gt as lens,Xt as optional,ro as prism,io as traversal};
